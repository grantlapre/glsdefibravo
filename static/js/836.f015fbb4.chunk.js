(self.webpackChunkglsdefib=self.webpackChunkglsdefib||[]).push([[836,296,854],{25644:(t,e,n)=>{"use strict";n.d(e,{E:()=>s});var i=n(93880),r=n(19956),o=n.n(r);class s extends i.Gt{async authenticateUser(){var t;if(!this.provider||null===(t=this.chainConfig)||void 0===t||!t.chainId)throw i.kC.notConnectedError();const{chainNamespace:e,chainId:n}=this.chainConfig;if(this.status!==i.Uz.CONNECTED)throw i.kC.notConnectedError("Not connected with wallet, Please login/connect first");const r=await this.provider.request({method:"getAccounts"});if(r&&r.length>0){const t=(0,i._c)(r[0],this.name);if(t){if(!(0,i.Wm)(t))return{idToken:t}}const s={domain:window.location.origin,uri:window.location.href,address:r[0],chainId:parseInt(n,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:(new Date).toISOString()},a=await(0,i.I5)(s,e),c=(new TextEncoder).encode(a),h=await this.provider.request({method:"signMessage",params:{message:c,display:"utf8"}}),l=await(0,i.cr)(e,o().encode(h),a,this.name,this.sessionTime);return(0,i.KE)(r[0],this.name,l),{idToken:l}}throw i.kC.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnect(){if(this.status!==i.Uz.CONNECTED)throw i.kC.disconnectionError("Not connected with wallet");const t=await this.provider.request({method:"getAccounts"});t&&t.length>0&&(0,i.Md)(t[0],this.name)}}},77340:(t,e,n)=>{"use strict";n.d(e,{PhantomAdapter:()=>h});var i=n(52536),r=n(93880),o=n(25644),s=n(84248);function a(t,e,n){return new Promise(((i,r)=>{n>0?setTimeout((async()=>{const o=await t();o&&i(o),o||a(t,e,n-1).then((t=>(i(t),t))).catch((t=>r(t)))}),e):i(!1)}))}const c=async function(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{interval:1e3,count:3};if("undefined"!==typeof window&&!(null===(t=window.solana)||void 0===t||!t.isPhantom))return window.solana;return await a((()=>{var t;return null===(t=window.solana)||void 0===t?void 0:t.isPhantom}),e.interval,e.count)?window.solana:null};class h extends o.E{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),(0,i.c)(this,"name",r.W2.PHANTOM),(0,i.c)(this,"adapterNamespace",r.Kg.SOLANA),(0,i.c)(this,"currentChainNamespace",r.Mj.SOLANA),(0,i.c)(this,"type",r.oJ.EXTERNAL),(0,i.c)(this,"status",r.Uz.NOT_READY),(0,i.c)(this,"_wallet",null),(0,i.c)(this,"phantomProvider",null),(0,i.c)(this,"rehydrated",!1),(0,i.c)(this,"_onDisconnect",(()=>{this._wallet&&(this._wallet.off("disconnect",this._onDisconnect),this.rehydrated=!1,this.status=this.status===r.Uz.CONNECTED?r.Uz.READY:r.Uz.NOT_READY,this.emit(r.Sc.DISCONNECTED))})),this.chainConfig=t.chainConfig||null,this.sessionTime=t.sessionTime||86400}get isWalletConnected(){var t;return!(null===(t=this._wallet)||void 0===t||!t.isConnected||this.status!==r.Uz.CONNECTED)}get provider(){var t;return(null===(t=this.phantomProvider)||void 0===t?void 0:t.provider)||null}set provider(t){throw new Error("Not implemented")}setAdapterSettings(t){this.status!==r.Uz.READY&&null!==t&&void 0!==t&&t.sessionTime&&(this.sessionTime=t.sessionTime)}async init(t){if(super.checkInitializationRequirements(),this.chainConfig||(this.chainConfig=(0,r.wh)(r.Mj.SOLANA,"0x1")),this._wallet=await c({interval:500,count:3}),!this._wallet)throw r.EF.notInstalled();this.phantomProvider=new s.EB({config:{chainConfig:this.chainConfig}}),this.status=r.Uz.READY,this.emit(r.Sc.READY,r.W2.PHANTOM);try{r.Yz.debug("initializing phantom adapter"),t.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(e){r.Yz.error("Failed to connect with cached phantom provider",e),this.emit("ERRORED",e)}}async connect(){var t=this;try{if(super.checkConnectionRequirements(),this.status=r.Uz.CONNECTING,this.emit(r.Sc.CONNECTING,{adapter:r.W2.PHANTOM}),!this._wallet)throw r.EF.notInstalled();if(this._wallet.isConnected)await this.connectWithProvider(this._wallet);else{const n=this._wallet._handleDisconnect;try{await new Promise(((e,i)=>{if(!this._wallet)return i(r.EF.notInstalled());this._wallet.once("connect",(async()=>{await this.connectWithProvider(this._wallet),e(this.provider)})),this._wallet._handleDisconnect=function(){i(r.EF.windowClosed());for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return n.apply(t._wallet,o)},this._wallet.connect().catch((t=>{i(t)}))}))}catch(e){if(e instanceof r.yo)throw e;throw r.kC.connectionError(null===e||void 0===e?void 0:e.message)}finally{this._wallet._handleDisconnect=n}}if(!this._wallet.publicKey)throw r.kC.connectionError();return this._wallet.on("disconnect",this._onDisconnect),this.provider}catch(e){throw this.status=r.Uz.READY,this.rehydrated=!1,this.emit(r.Sc.ERRORED,e),e}}async disconnect(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cleanup:!1};await super.disconnect();try{var e;await(null===(e=this._wallet)||void 0===e?void 0:e.disconnect()),t.cleanup&&(this.status=r.Uz.NOT_READY,this.phantomProvider=null,this._wallet=null),this.emit(r.Sc.DISCONNECTED)}catch(n){this.emit(r.Sc.ERRORED,r.kC.disconnectionError(null===n||void 0===n?void 0:n.message))}}async getUserInfo(){if(!this.isWalletConnected)throw r.kC.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async connectWithProvider(t){if(!this.phantomProvider)throw r.kC.connectionError("No phantom provider");return await this.phantomProvider.setupProvider(t),this.status=r.Uz.CONNECTED,this.emit(r.Sc.CONNECTED,{adapter:r.W2.PHANTOM,reconnected:this.rehydrated}),this.provider}}},43836:t=>{"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<t.length;i++){var r=t.charAt(i),o=r.charCodeAt(0);if(255!==e[o])throw new TypeError(r+" is ambiguous");e[o]=i}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),h=Math.log(256)/Math.log(s);function l(t){if("string"!==typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var n=0,i=0,r=0;t[n]===a;)i++,n++;for(var o=(t.length-n)*c+1>>>0,h=new Uint8Array(o);t[n];){var l=e[t.charCodeAt(n)];if(255===l)return;for(var d=0,w=o-1;(0!==l||d<r)&&-1!==w;w--,d++)l+=s*h[w]>>>0,h[w]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");r=d,n++}for(var u=o-r;u!==o&&0===h[u];)u++;for(var f=new Uint8Array(i+(o-u)),v=i;u!==o;)f[v++]=h[u++];return f}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var n=0,i=0,r=0,o=e.length;r!==o&&0===e[r];)r++,n++;for(var c=(o-r)*h+1>>>0,l=new Uint8Array(c);r!==o;){for(var d=e[r],w=0,u=c-1;(0!==d||w<i)&&-1!==u;u--,w++)d+=256*l[u]>>>0,l[u]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");i=w,r++}for(var f=c-i;f!==c&&0===l[f];)f++;for(var v=a.repeat(n);f<c;++f)v+=t.charAt(l[f]);return v},decodeUnsafe:l,decode:function(t){var e=l(t);if(e)return e;throw new Error("Non-base"+s+" character")}}}},19956:(t,e,n)=>{const i=n(43836);t.exports=i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},78528:()=>{},55992:()=>{},14808:()=>{},16204:()=>{}}]);